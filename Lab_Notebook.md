# Lab Notebook ECE 445

**18th January 2023**

Today we brainstormed many ideas. Some that we talked about today were :
- Checking how smelly your shoes are
- Smart showerhead
- Trash Collection Idea

We ended up deciding to explore the trash collection idea more and Manav made a post on the webboard to see what the trash collection idea. The follwing is the post that we ended up making for the same :

> Just an idea I was thinking about was that what if we had like a funnel kind of thing that basically moves around and even when people throw trash it always catches it by moving around and then stores the trash underground for future trash collection. This way making sure there is not mess around the trash can and then can be later picked up based off of sensors letting the garbagemen know that is full.

We recieved a bunch of feedback on the same and were feeling less confident about the idea.

**19th January 2023**

After more discussion from the last post we decided to explore the smart showerhead again. After more thinking we realized that the idea could be better if we created a device that can be attached to any showerhead and measure a bunchh of stuff. Bhavana then made the following post:

> My idea centers around water retention for use in showers. There would be a device that could fit onto any type of shower head you had installed in your bathroom, and it could monitor the amount of water let out every minute. This could be useful in states or countries that are experiencing major drought in order to monitor home's total usage. Another feature that could be added to this device could be to add a temperature feature that monitors the temperature of the water instead of arbitrary ideas such as hot and cold. This way people can use a temperature that does not upset their scalp when they are washing their hair.

We then got more comments on our post and the TA liked the idea. After some more back and forth we decided that we should take another route where the showerhead could keep track of profiles and basically help people who share a shower.

We were feeling a lot more confident about the idea and decided to continue down this route.

**23rd January 2023**

We decided to create an RFA for the showerhead project idea on this day. Abhi and Manav created on outline for the systems and subsystems that we would need for this project. Once doing that, Bhavana helped to find many of the parts we would need in order to create each subsystem.

Once finishing this, we decided to submit the project on the web board in order to get it approved by the TA's and the professor.

**25th January 2023**

We decided to submit the RFA on the showerhead idea. We received responses from the TA and the professor in the next couple of days. One of the TA's, Akshatkumar Sanatbhai Sanghvi, said this regarding our project idea:

> Great. I think you could go for RFA.

With this we were feeling confident on our project idea. However, a little while later one of the professors also responded to our RFA with a less exciting response:

> I have serious doubts about the practicality of this device. A shower stall is a very hostile environment for electronics and any electrical device. A very high level of water resistance will be necessary. The presence of voltages and currents in a shower is potentially very hazardous. Where would the power to operate the systems come from? Certainly not household AC. Your system reminds me of an adjustable car seat with a memory feature which is convenient when there are multiple drivers. The difference is that the driver is belted into the seat and can't move whereas the person in the shower has quite a lot of freedom of movement so it is not necessary for the shower to aim accurately.
On the other hand, just implementing your smart shower head seems quite challenging even in a non-shower environment. I'm going to approve this project but you will have address safety and the water environment and how the device is truly more convenient than the standard shower head. Many shower heads have multiple setting for different types of flow. You might consider that.

With this, we were feeling a lot less confident about our project idea.

**31st January 2023**

Our group had a conversation today regarding what the professor had said about our project idea. We decided to take the Professor's advice regarding the adjustable showerhead and change that idea. He mentioned great points in the fact that an adjustable shower head is not as convenient as the user would be moving around a lot as compared to having an adjustable car seat in which the user would only be in that. Instead we wanted to have just a smart shower that would allow the user to check the temperature and the duration of the shower.

However, upon researching shower heads on the market, we realized that our idea already exists. As a result, we had to come up with a new way in which our idea could be different but still difficult to implement and interesting for a potential person.

**1st February 2023**

Our group met up again in order to flesh out a new feature we could add to our shower head that would make it different. After brainstorming, something that we noticed we all did when taking showers was listening to music. However, some of the problems we all faced when listening to music while showering was that we could not bring our phones into the shower as they would get wet. In this case, we decided to have a speaker in our system that could connect to a user's phone and allow them to play music while not harming the functionality of their phone.

After this, we decided to pitch our new and improved idea to our Project section on Pace in order to get confirmation from the TA's and professors that this would be a better idea: 

> Hi,
We wanted to make the project a little different if that is possible. We would like to get rid of the positioning feature based on the user's height. Instead, we would like to include a bluetooth speaker on the showerhead that can connect to your phone. With this, you can play whatever music/podcast you would like to listen to as you shower and control it from the showerhead itself without having your phone involved.
With this, you could skip, rewind, pause, or change the volume for the playlist that you are currently listening to directly on the showerhead. This minimizes the risk of your phone getting damaged while changing music in the shower.
This will make our showerhead different than the already available temperature setting showerheads while implementing a new feature for people.
Additionally, considering the powering of the system, we would have to create a waterproof box in which no water could potentially touch. This is one of the hardest parts of our project, but we believe we can make it work.
Please let us know if this project idea sounds viable and can be approved. Would we need to create another RFA for this to get approved, or could we make the project proposal straight away?

However, our post was met with no response. Believing that this was a better idea than our proposed RFA solution, we decided to go ahead and make a proposal for our new fleshed out idea.

**4th February 2023**

Our team decided to meet up today in order to talk about our project proposal that was due later that week on the 10th. From here, Manav started out by creating the problem and solution that our project would be solving. Bhavana started by creating the block diagram, the visual aid, and the safety considerations. And Abhijun started creating the tolerance analysis, the high level requirements, and talking to the machine shop in order to see if our project was even feasible.

After splitting up the work, we decided to meet back again later for our TA meeting.

**7th February 2023** 

Today we met with our TA, Akshatkumar Sanghvi, in order to talk about our project and go through our initial project proposal document with him. Upon meeting with him, he told us that everything looks good at the current moment but we need to make sure we are formatting our proposal in a way that is readable and similar to past projects. 

Our TA sent us a past proposal that received a great score in order to give us an understanding of how a good project proposal looks. With this, we were able to change our proposal to look similar to the one that received a good score in the next coming days.

**9th February 2023**

Today we sent in the project proposal. We all made finishing touches to our parts of the project and submitted it.

We also went to the machine shop and again talked about the feasibility of our project. We showed him the temperature and optical level liquid sensor that we were going to order. He said that he had never worked with them before, but after explaining how it works and how the tip is the only thing that needs to touch the water, he was able to visualize it in his head. With this, he told us that we can order the parts and the showerhead and bring him our items as soon as possible.

**15th February 2023** 

Today our group met up in order to research and order parts for our project. Bhavana ordered the showerhead and the optical level liquid sensor that we will use for our project. With this we would be able to drill a hole into the showerhead and put the optical sensor in to check the duration of the shower. 

We also were able to order a temperature sensor at this time. Abhijun did some research and found a temperature sensor that also detected the humidity of the surrounding area. Once ordering these parts, we are able to test the sensors to make sure they work and then go to the machine shop and give them the parts in order to create our design.

**16th February 2023**

Today we met in order to decide how to split up the design document information. We decided that Bhavana would take the requirements and verifications for the showerhead systems, Abhi would take the requirements and verifications for the remote systems, and Manav would take the cost analysis, the timeline, and improving the tolerance analysis and the safety requirements.

**17th February 2023**

Today our group met in order to order our Raspberry PI to use as a communication device between our remote and our shower head system. However, upon researching Raspberry PI's and talking to the people in the ECEB shop, we realized that a Raspberry PI would be a very expensive option for us. Most Raspberry PI's are very difficult to find on the market currently, so they have upped the price and they are selling for upwards of $100. This was not a feasible option for us as it would make us way above budget.

After talking to the people at the ECEB shop and doing some of our own research, we were able to find an alternate solution to our Raspberry PI problem. This solution was to get a device similar to the Raspberry PI, the Libre Computer.

We also emailed our TA regarding the grade for our project proposal as it was not done yet. All the other teams had received a grade and he had said he had graded all of them. However, we had not received a grade or feedback regarding our work so we could not fix it or change it for the design document if necessary. He said he would grade it as soon as possible.

**21st February 2023**

Today, we signed up for our design document review time. We decided to do it on 2/28/2023 at 3:30 pm as that was the time we were all available. In the meantime we have to get ready for the design review and finish our design document.

**22nd February 2023**

Today, we received an email from our TA regarding changes we should make to the project proposal; however, he still did not provide us with a grade at this time. Some of his feedback included changing our entire visual aid and block diagram as it was very confusing.

He also gave us the advice that we should add math to our tolerance analysis as it was a requirement.

However, as the design document was due the next day, we asked for an extension on the design document and the project proposal revision. Our TA said the professor would not approve the extension if we could get our design document done in time, so we buckled down and did majority of the work. 

Bhavana worked on redoing the block diagram and the visual aid using Microsoft Visio. Abhijun worked on adding math to our tolerance analysis. Manav worked on the other parts of the design document that were do as a result. 

At the end of the day, we were able to have a new block diagram, visual aid, and math in our tolerance analysis.

**23rd February 2023**

The design document was due. We formatted the entire document well and added all of our requirement and verifications table as well as doing a cost analysis on our project.

**24th February 2023**

We had a project proposal revision due. We used a lot of the information we made in the design document in order to enhance our project proposal revision. However we did not submit it as the professor said we would have 2 weeks upon receiving our grade in order to resubmit. So we decided to wait for our design document review to get feedback and resubmit it.

Our team contract was also due today. So we met up for a while and discussed how we would like to divide up the work and how we would handle conflict within the group. We also discussed which roles we would all like to have in the group and who would be in charge of what activity.

We all then signed the team contract and submitted it.

**27th February 2023**

Abhijun attended his peer review session and from this he was able to give information on what kinds of questions we should be prepared for regarding our design. Specifically questions regarding the voltage requirements and what to do if there was an issue in our voltage and current requirements.

**28th February 2023**

Today is the day of of our design document review. We got to the lab 5 minutes early in order to set up all of our laptops and make sure we knew who was saying what. When we presented we got many questions regarding our design and what kind of microcontroller we were using.

They also questioned the need for our Raspberry PI in the project. With this, we were very unsure other about why we were using it other than the fact that it has bluetooth capabilities and we would be able to use that to connect the phone to the speaker and the remote in order to change the song from the remote itself.

The professor also told us when looking at the cost analysis that we undervalued our workload and that we should give more to ourselves in wages. He also said that the 50 hours that we estimated for each of us to work would not be accurate and that we needed to add more hours in order to get this project to work.

At the end of this, Manav went to his peer review session and was able to see another project.

**1st March 2023** 

Bhavana went to her peer review session today.

**3rd March 2023**

We met with our TA for our weekly meeting. He told us that we should get rid of the Raspberry PI idea entirely and use a microcontroller instead to connect with our devices. However, we were very confused as to what this meant for our project, so we emailed the professor for more details.

**6th March 2023**

We got an email back from the professor regarding the microcontroller that we should use and how we should go about it:

>I want you to drive the speaker in your shower head directly from the bluetooth signal from your phone and not use a Raspberry PI in your project. I realize that you may have to give up some features such as remote song selection. Basically, you need to design a circuit that will take the signal from a Bluetooth module on the showerhead and convert it to an input signal for the speaker and implement it on your PCB.

With this information, we had a little more of an idea that we had to use a microcontroller with Bluetooth that could do the job that a Raspberry PI would have done. After talking to a TA, we got a better understanding of the microcontroller we should use. We decided to use a Esp32-wroom-32d due to its GPIO, bluetooth, and wireless capabilities.

After realizing this, we decided to go talk to the professor as well just to confirm our idea and the microcontroller we were going to use. The professor approved the idea and said that it should work.

However, without the use of the Raspberry PI, we had to change the idea of having a remote as we could not have the button functionality anymore. Instead of a remote, we decided to simply have a display that would mount to that wall. The display would still show the duration of shower, the temperature, and the current song; however, we would not be able to switch the song from our remote and the user would have to use their phone instead.

With this, we asked for an extension on our pcb design that was due that night. The professor approved it and allowed us to have until Wednesday night in order to get our pcb design finished and ready for PCB Way.

We also had received our temperature and optical liquid level sensor, so we wanted to start testing that. We wanted to use the Libre Computer that we had bought in order to test our sensors. 

From here, we split the work up. Bhavana was working on the PCB design in order to send to our TA, and Abhi and Manav were figuring out how to code the Libre Computer in order to test the sensors before giving them to the machine shop to drill into the shower head.

**7th March 2023**

We met up in the lab again today. Bhavana made progress on designing the schematic of the PCB with the esp32-wroom-32d being our microcontroller. Abhi and Manav figured out what parts we would need in order to make the Libre Computer work and continued working on testing the sensors.

**8th March 2023**

We met up at the lab again today. Bhavana finished the schematic and was working on the footprints and creating the actual PCB wires and look. She finished the PCB design but was met with many errors once running DRC. She had to go back and fix all of those problems. 

Finally she finished it and sent it into PCB Way to see if it would pass their inspection. She also sent it to the TA.

However, later in the night the TA got back to us and said our PCB order was $55, which was way too expensive. As a result we had to fix our design.

Manav and Abhi finally figured out tha the Libre Computer was not the best way to test the sensors and instead used an arduino in order to test. With this, they were able to get the optical liquid level sensor to work. However, with testing, we realized that the temperature sensor was not working because the data was not changing. As a result, we ordered a new temperature sensor. Abhi emailed the machine shop in order to tell him we need an extension regarding dropping off our sensors and showerhead and we will get it in later tomorrow after doing some more testing on the temperature sensor. 

**9th March 2023**

Bhavana fixed the PCB design and sent it into the TA to order. The price dropped from $55 to $5, which is the normal price of a PCB.

**10th March 2023**

Today we met in lab in order to try and test the temperature sensor. We talked to the TA for a while in order to fix the problem. However, we decided to switch from the Arduino to the Libre Computer for testing as we were running into issues with the code stopping and not outputting anything. 

From here, we realized that our temperature sensor was not working and it was broken. We decided to order a new temperature sensor and talk to the machine shop in order to tell him about our situation and the issue we were facing.

**21st March 2023**

Today we met in lab in order to test our new temperature sensor. We ended up getting accurate readings for our new sensor by using Arduino IDE. We were able to output the temperature in Farenheight and Celsius for the user. 

**24th March 2023**

Today we got our new PCB and were able to go into lab and test it. However, upon soldering a couple pieces on the PCB, we realized we had made some mistakes. Some of the mistakes included not having the right size holes on the pcb for our battery. We also did not have anything to program our ESP and get the data from the sensors. 

We knew we needed to fix these for the next design. 

**27th March 2023**

Today Bhavana started working on a new PCB design. She added a BOOT option that would connect to GPIO pin 1 on the microcontroller in order to program the ESP32. She also added a UART 3x2 pin connector that would allow us to program our ESP32. 

Another new thing we added was a voltage regulator that would allow for 5 Volts as our optical liquid level sensor required 5 volts to operate.

**28th March 2023**

Today Bhavana and Abhi went to the PCB review session in order to check with a TA regarding the components on our PCB. They were able to meet with a TA and get some pointers on what to add. One such pointer was to add a 4x1 connector as a JTAG in case we were not able to program the PCB using UART.

Another pointer was to add testpoints on any data wire that we were unsure of. This was a helpful tip as it would allow us to still use our PCB even if a couple of wires were wired incorrectly.

**29th March 2023**

We sent in another PCBWay order in the third round. We checked with one more TA at office hours and audited our PCB on PCBWay before sending it to Akshat.

**2nd April 2023**

We came into lab today in order to take stock of what we had ordered and what we still needed. We decided to buy all the parts for our PCB. Abhi ordered all of our voltage regulators and worked with Bhavana on finding which resistors and capacitors we would need to buy. Manav looked to order a display so we would be able to showcase our outputs to the user.
